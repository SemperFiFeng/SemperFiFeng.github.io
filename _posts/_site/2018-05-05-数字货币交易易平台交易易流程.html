<p>#区块链/区块链博客</p>

<h1 id="数字货币交易易平台交易易流程">数字货币交易易平台交易易流程</h1>

<p>当一个请求进入交易系统后，首先由用户系统(User)识别用户身 份，然后由账户系统(Account)对用户资产进行冻结，买入冻结 USD，卖出冻结BTC，冻结如果成功，订单就进入定序系统 (Sequencer)。</p>

<p>经过定序的订单被送入撮合引擎(Match)。撮合引擎是交易系统的核心。撮合引擎本质上就是维护一个买卖盘列表，然后按价格优 先原则对订单进行撮合，能够成交的就输出成交结果，不能成交的 放入买卖盘。</p>

<p>当撮合引擎输出了成交结果后，该成交记录由清算系统(Clearing) 进行清算。清算的工作就是把买单冻结的USD扣掉，并加上买入所 得的BTC，同时，把卖单冻结的BTC扣掉，并加上卖出所得的 USD。根据taker/maker的费率，向买卖双方收取手续费。</p>

<p>清算系统完成清算后，更新订单状态，再通知用户，用户就可以查
询到买卖的成交情况。</p>

<p>在撮合引擎输出成交记录给清算系统的同时，它还把去除用户和订 单相关信息的成交记录输出给行情系统(Quotation)，由行情系统 保存市场的成交价、成交量等信息，并输出实时价格、K线图等技术 数据，以便公开市场查询。</p>
